# AI对话短剧 Skill 设计草案

## 一、Skill 概述

**名称**：`/对话短剧` 或 `/ai-drama`

**定位**：纯对话推动剧情的AI短剧制作工具

**核心流程**：
```
定装照 → 角色设定 → 素材生成 → 剧本创作 → TTS → 合成出片
```

---

## 二、交互流程设计

### Phase 1: 项目初始化

```
用户：/对话短剧

Claude：
═══════════════════════════════════════
  AI对话短剧制作
═══════════════════════════════════════

请选择操作：
  [1] 新建项目
  [2] 继续已有项目
  [3] 查看帮助

用户：1
```

### Phase 2: 定装照确认（需用户确认）

```
Claude：
────────────────────────────────────
  Step 1: 定装照
────────────────────────────────────

你有定装照吗？（两个角色同框的静态图）

  [A] 有，我上传
  [B] 没有，帮我用AI生成

用户：A
→ 进入【上传定装照流程】

用户：B
→ 进入【AI生成定装照流程】
```

#### 流程A：上传定装照

```
Claude：
请上传定装照（两个角色同框）

用户：[上传图片]

Claude：
  检测到 2 个角色：
  - 左侧：橘色猫咪，戴LV帽子，穿皮夹克
  - 右侧：白色猫咪，穿金色比基尼

  确认使用此图？[Y/n]
```

#### 流程B：AI生成定装照

```
Claude：
────────────────────────────────────
  AI生成定装照
────────────────────────────────────

请描述你想要的两个角色：

【角色A】
  类型：_____________ （示例：橘猫、柴犬、熊猫...）
  外观：_____________ （示例：胖乎乎，戴墨镜，穿皮夹克）
  气质：_____________ （示例：暴发户、土豪、霸道总裁）

【角色B】
  类型：_____________ （示例：白猫、贵宾、狐狸...）
  外观：_____________ （示例：苗条，穿金色礼服）
  气质：_____________ （示例：高冷、泼辣、温柔）

【场景】
  地点：_____________ （示例：纽约街头、咖啡馆、豪宅客厅）
  氛围：_____________ （示例：阳光明媚、夜景灯光、温馨）

或输入 [D] 使用默认设定（橘猫暴发户+白猫泼辣媳妇）

用户：D

Claude：
  正在用MiniMax生成定装照...

  预计费用：约0.2元

  ████████████ 100%

  ✅ 定装照生成完成！

  [显示生成的图片]

  满意吗？
  [Y] 满意，继续
  [R] 不满意，重新生成
  [E] 微调描述后重新生成
```

### Phase 3: 角色设定（需用户确认）

```
Claude：
────────────────────────────────────
  Step 2: 角色设定
────────────────────────────────────

请为每个角色设定：

【角色A - 橘猫】
  名字：_____________ （示例：尼古拉斯·点橘）
  性格：_____________ （示例：暴发户，有钱任性，东北腔）
  口头禅：___________ （示例：哥有的是钱）

【角色B - 白猫】
  名字：_____________ （示例：雪莉）
  性格：_____________ （示例：泼辣直爽，怼天怼地）
  口头禅：___________ （示例：你可真是个人才）

或者输入 [D] 使用默认Demo设定

用户：D

Claude：
  ✅ 已使用默认设定：

  【橘猫】尼古拉斯·点橘
  - 真·暴发户，有钱但没文化
  - 土但自信，东北腔
  - 口头禅："哥有的是钱"

  【白猫】雪莉
  - 泼辣直爽的富婆
  - 怼天怼地，但宠老公
  - 口头禅："你可真是个人才"

  确认角色设定？[Y/n/E编辑]
```

### Phase 4: 素材生成（需用户确认）

```
Claude：
────────────────────────────────────
  Step 3: 生成对话素材
────────────────────────────────────

即将生成 2 段视频素材：
  1. 橘猫说话.mp4 - 橘猫说话，白猫闭嘴听
  2. 白猫说话.mp4 - 白猫说话，橘猫闭嘴听

⚠️ 生成提示词关键点：
  - 说话角色：mouth movements, talking, gesturing
  - 听的角色：mouth CLOSED, listening silently
  - 首尾相连：end pose similar to start pose
  - **机位灯光锁定**：same camera angle, same lighting, static camera（切换时不能有晃动）

⚠️ **MiniMax视频生成参数（固定，不可更改）**：
  - 模型：`MiniMax-Hailuo-02`
  - 分辨率：`512P`
  - 时长：`6s`
  - 费用：**0.60元/条**
  - 两条素材：**1.2元**

预计费用：0.60元×2 = **1.2元**（固定512P）

确认生成？[Y/n]

用户：Y

Claude：
  [1/2] 生成"橘猫说话"... ████████████ 100%
  [2/2] 生成"白猫说话"... ████████████ 100%

  ✅ 素材生成完成！

  请检查素材：
  - 橘猫说话.mp4 → 是否只有橘猫在动嘴？
  - 白猫说话.mp4 → 是否只有白猫在动嘴？

  素材OK？[Y/重新生成]
```

### Phase 5: 剧本创作（需用户确认）

```
Claude：
────────────────────────────────────
  Step 4: 剧本创作
────────────────────────────────────

请输入剧本主题，或选择模板：
  [1] 炫富被怼
  [2] 土味情话
  [3] 回忆往事
  [4] 自定义主题：__________

用户：讨论要不要养个孩子

Claude：
  正在生成剧本...

  ═══════════════════════════════════
  《养孩子》
  ═══════════════════════════════════

  【橘猫】媳妇儿，咱俩要不要养个孩子？
  【白猫】养啥孩子？你自己还是个孩子呢！
  【橘猫】我说的是猫崽子啊！
  【白猫】猫崽子也不行，你能照顾好吗？
  【橘猫】咋不能？我给它买最贵的猫粮！
  【白猫】然后呢？
  【橘猫】然后...请个保姆带！
  【白猫】那你养它干啥？
  【橘猫】我负责给钱啊！跟我爸学的！
  【白猫】......你可真是个人才。

  ─────────────────────────────────
  预计时长：约 35 秒

  [Y] 确认，继续生成
  [E] 编辑修改
  [R] 重新生成
```

### Phase 6: 生成TTS

```
Claude：
────────────────────────────────────
  Step 5: 生成语音
────────────────────────────────────

TTS引擎选择：
  [1] Edge TTS（免费，标准普通话）
  [2] MiniMax 克隆音色（收费，有角色感）

用户：1

Claude：
  生成中... ████████████ 100%

  已生成 10 条语音
  ✅ 已保存 剧本.json（TTS与合成共用的数据源）

  [P] 试听语音
  [Y] 确认，继续合成
```

**重要**：TTS生成后必须同时保存 `剧本.json`，确保后续合成使用相同的剧本数据。

### Phase 7: 合成出片

```
Claude：
────────────────────────────────────
  Step 6: 合成视频
────────────────────────────────────

  合成中... ████████████ 100%

  ✅ 完成！

  成品：剧集/第X集_养孩子/成品/demo.mp4
  时长：35秒

  [O] 打开视频
  [S] 保存项目
  [N] 制作下一集
```

---

## 三、关键交互点总结

| 步骤 | 需要确认 | 可选操作 |
|------|----------|----------|
| 定装照确认 | ✅ | 上传 / AI生成 |
| 角色设定 | ✅ | 使用默认Demo / 自定义 |
| 素材生成 | ✅ | 检查质量，重新生成 |
| 剧本创作 | ✅ | 编辑 / 重新生成 |
| TTS生成 | ✅ | 试听 / 切换引擎 |
| 视频合成 | 自动 | - |

---

## 四、默认Demo设定

### 角色模板

```yaml
角色A:
  名字: 尼古拉斯·点橘
  类型: 橘猫
  性格: 暴发户，有钱没文化，土但自信
  口音: 东北腔
  口头禅:
    - "哥有的是钱"
    - "那必须的"
    - "这点钱算啥"
  Voice_ID: shehui_dage_jumu_002

角色B:
  名字: 雪莉
  类型: 白猫
  性格: 泼辣直爽，怼天怼地
  口音: 女汉子风
  口头禅:
    - "你可真是个人才"
    - "啥？！"
  Voice_ID: guibin_xiaojie_001
```

### 剧本模板

```yaml
炫富被怼:
  结构: 橘猫炫耀 → 白猫吐槽 → 橘猫狡辩 → 白猫收尾
  笑点: 暴发户逻辑，歪理正说

土味情话:
  结构: 橘猫撩 → 白猫怼 → 橘猫加码 → 白猫妥协
  笑点: 土到极致就是潮

回忆往事:
  结构: 提问 → 回忆 → 反转 → 吐槽
  笑点: 暴发户的成长史
```

---

## 五、素材生成Prompt模板

### 橘猫说话

```json
{
  "mode": "image_to_video",
  "model": "MiniMax-Hailuo-02",
  "duration": 6,
  "resolution": "512P",
  "prompt": "Same scene, same lighting, same camera angle, static camera, no camera movement. Orange cat is TALKING - mouth movements, expressive gestures, animated face. White cat is LISTENING SILENTLY - mouth firmly CLOSED, only subtle head nods. Both characters stay in frame. Loop-friendly: end pose similar to start pose. 3D Pixar animation style.",
  "first_frame_image": "[定装照路径]"
}
```

### 白猫说话

```json
{
  "mode": "image_to_video",
  "model": "MiniMax-Hailuo-02",
  "duration": 6,
  "resolution": "512P",
  "prompt": "Same scene, same lighting, same camera angle, static camera, no camera movement. White cat is TALKING - mouth movements, gestures, expressive. Orange cat is LISTENING SILENTLY - mouth firmly CLOSED, just nodding occasionally. Both characters stay in frame. Loop-friendly: end pose similar to start pose. 3D Pixar animation style.",
  "first_frame_image": "[定装照路径]"
}
```

---

---

## 六、剧本.json 格式规范

TTS生成后必须保存 `剧本.json`，作为TTS和视频合成的**唯一数据源**，避免人工重复输入导致不一致。

```json
{
  "title": "学外语",
  "characters": {
    "A": {"name": "橘猫", "video": "橘猫说话.mp4"},
    "B": {"name": "白猫", "video": "白猫说话.mp4"}
  },
  "dialogue": [
    {"audio": "01_白猫.mp3", "character": "白猫", "text": "台词内容"},
    {"audio": "02_橘猫.mp3", "character": "橘猫", "text": "台词内容"},
    ...
  ]
}
```

| 字段 | 说明 |
|------|------|
| title | 剧集标题，用于输出文件命名 |
| characters | 角色定义，包含名字和对应的说话视频 |
| dialogue | 台词序列，每条包含音频文件名、角色名、台词文本 |

**合成脚本用法**：
```bash
python3 工具/合成脚本.py 剧集/第X集_标题/
```

---

*草案版本：v0.3*
*日期：2026-01-25*
